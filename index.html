<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Sono - Салон красоты премиум-класса</title>
<link href="c63635fba1eb11f0a547b62e65e43737_1.jpg" rel="icon"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Roboto:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
/* Все стили — только палитра и шрифты изменены на элегантный бело-черный с серебристыми акцентами. Структура, классы и JS оставлены без изменения. */
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --primary:#bfbfbf;       /* серебристый — акцент */
  --primary-dark:#9e9e9e;  /* темнее серебра */
  --primary-light:#f5f5f5; /* светлый тон для градиентов */
  --dark:#0b0b0b;          /* основной черный */
  --dark-light:#1f1f1f;
  --light:#ffffff;         /* фон — чистый белый */
  --light-dark:#f2f2f2;    /* бледный фон карточек */
  --gray:#6d6d6d;          /* текстовые оттенки */
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.06);
  --shadow-md: 0 8px 30px rgba(0,0,0,0.10);
  --shadow-lg: 0 16px 50px rgba(0,0,0,0.14);
}
body{
  font-family:'Roboto',sans-serif;
  color:var(--dark);
  background:var(--light);
  line-height:1.6;
  overflow-x:hidden;
  scroll-behavior: smooth;
}
h1,h2,h3,h4,h5{font-family:'Cormorant Garamond',serif;font-weight:600}
.container{width:90%;max-width:1200px;margin:0 auto;padding:0 20px}

/* Анимации (копия оригинала) */
@keyframes fadeInUp {from {opacity: 0;transform: translateY(30px);}to {opacity: 1;transform: translateY(0);}}
@keyframes fadeInLeft {from {opacity: 0;transform: translateX(-30px);}to {opacity: 1;transform: translateX(0);}}
@keyframes fadeInRight {from {opacity: 0;transform: translateX(30px);}to {opacity: 1;transform: translateX(0);}}
@keyframes float {0%, 100% {transform: translateY(0);}50% {transform: translateY(-10px);}}
@keyframes shimmer{0%{background-position:-1000px 0}100%{background-position:1000px 0}}

.animate-fade-in-up{animation: fadeInUp 0.8s ease-out}
.animate-fade-in-left{animation: fadeInLeft 0.8s ease-out}
.animate-fade-in-right{animation: fadeInRight 0.8s ease-out}
.animate-float{animation: float 3s ease-in-out infinite}

[data-animate]{opacity:0;transform:translateY(30px);transition:all 0.8s var(--transition)}
[data-animate].animated{opacity:1;transform:translateY(0)}

/* ---------------- SECTION DIVIDERS ---------------- */
.section-divider{position:relative;height:100px;background:transparent;overflow:hidden}
.divider-wave{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,var(--light) 0%, var(--primary-light) 50%, var(--light) 100%);opacity:0.25}
.divider-wave:before{content:'';position:absolute;top:0;left:-10%;width:120%;height:20px;background:var(--primary);border-radius:50%;opacity:0.06}
.divider-ornament{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:var(--primary);font-size:24px;opacity:0.18}
.divider-dots{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;gap:12px}
.divider-dots span{width:6px;height:6px;background:var(--primary);border-radius:50%;opacity:0.18}
.divider-curve{position:absolute;bottom:-1px;left:0;width:100%;height:40px;fill:var(--light)}
.divider-curve-dark{fill:var(--dark)}
.section-with-bg{position:relative;background:linear-gradient(135deg,var(--light) 0%, var(--primary-light) 100%)}
.section-with-bg:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 L0,100" fill="rgba(255,255,255,0.8)"/></svg>');pointer-events:none}

/* ---------------- HEADER ---------------- */
header{position:fixed;top:0;left:0;width:100%;z-index:1000;background:rgba(255,255,255,0.96);backdrop-filter:blur(12px);padding:18px 0;transition:var(--transition);border-bottom:1px solid rgba(0,0,0,0.06)}
header.scrolled{box-shadow:var(--shadow-md);padding:12px 0;background:rgba(255,255,255,0.98)}
.navbar{display:flex;justify-content:space-between;align-items:center;position:relative}
.logo{font-family:'Cormorant Garamond';font-size:28px;color:var(--dark);text-decoration:none;font-weight:700;display:flex;gap:6px;align-items:center;transition:var(--transition);position:relative;overflow:hidden}
.logo:before{content:'';position:absolute;bottom:0;left:-100%;width:100%;height:2px;background:var(--primary);transition:var(--transition)}
.logo:hover:before{left:0}
.logo span{color:var(--primary)}
.nav-links{display:flex;list-style:none;gap:32px;align-items:center}
.nav-links a{color:var(--dark);text-decoration:none;font-weight:500;font-size:15px;position:relative;padding:8px 0;transition:var(--transition)}
.nav-links a:after{content:'';position:absolute;left:50%;bottom:0;width:0;height:2px;background:var(--primary);transition:var(--transition);transform:translateX(-50%)}
.nav-links a:hover{color:var(--primary-dark)}
.nav-links a:hover:after{width:100%}
.ms_booking{background: linear-gradient(135deg, var(--primary), var(--primary-dark));color:var(--dark);padding:12px 28px;border-radius:30px;text-decoration:none;font-weight:600;display:inline-block;white-space:nowrap;transition:var(--transition);box-shadow:var(--shadow-sm);position:relative;overflow:hidden}
.ms_booking:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);transition:var(--transition)}
.ms_booking:hover:before{left:100%}
.ms_booking:hover{transform:translateY(-3px);box-shadow:var(--shadow-md)}
.mobile-menu{display:none;background:none;border:0;font-size:22px;cursor:pointer;color:var(--dark);transition:var(--transition);padding:8px;border-radius:8px}
.mobile-menu:hover{background:var(--primary-light);color:var(--primary-dark)}

/* ---------------- HERO ---------------- */
.hero{height:100vh;display:flex;align-items:center;position:relative;color:#fff;overflow:hidden}
.hero:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at center, transparent 0%, rgba(11,11,11,0.25) 100%);pointer-events:none}
.hero-content{max-width:680px;z-index:2;position:relative}
.hero h1{font-size:clamp(2.5rem,6vw,4rem);margin-bottom:24px;line-height:1.05;text-shadow:0 4px 20px rgba(0,0,0,0.3);color:#fff;animation:fadeInUp 1s ease-out}
.hero p{font-size:clamp(1.1rem,2.5vw,1.25rem);color:rgba(255,255,255,0.95);margin-bottom:32px;animation:fadeInUp 1s ease-out 0.2s both}
.hero .ms_booking{background:var(--primary);border:none;color:var(--dark);padding:16px 36px;font-size:1.1rem;border-radius:30px;animation:fadeInUp 1s ease-out 0.4s both}

/* ---------------- SECTIONS ---------------- */
.section{padding:clamp(60px,8vw,120px) 0;position:relative}
.section-light{background:var(--light)}
.section-alt{background:linear-gradient(135deg,var(--light) 0%, var(--primary-light) 50%, var(--light) 100%);position:relative}
.section-alt:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 L0,100" fill="rgba(255,255,255,0.9)"/></svg>');pointer-events:none}
.section-title{text-align:center;margin-bottom:clamp(32px,5vw,60px);position:relative}
.section-title h2{font-size:clamp(2rem,5vw,3rem);display:inline-block;position:relative;color:var(--dark)}
.section-title h2:after{content:'';position:absolute;left:50%;transform:translateX(-50%);bottom:-16px;width:100px;height:4px;background:linear-gradient(90deg,var(--primary),var(--primary-dark));border-radius:2px}
.section-title p{color:var(--gray);margin-top:16px;max-width:700px;margin:24px auto 0;font-size:1.1rem}

/* ---------------- SERVICES ---------------- */
.services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(320px,100%),1fr));gap:32px}
.service-card{background:#fff;border-radius:20px;padding:32px;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;transition:var(--transition);border:1px solid rgba(0,0,0,0.04);position:relative;overflow:hidden}
.service-card:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,var(--primary-light),transparent);transition:var(--transition)}
.service-card:hover:before{left:100%}
.service-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg);border-color:rgba(0,0,0,0.08)}
.service-content{display:flex;flex-direction:column;flex:1;position:relative;z-index:1}
.service-content h3{margin-bottom:12px;font-size:1.3rem;color:var(--dark);position:relative;display:inline-block}
.service-content h3:after{content:'';position:absolute;bottom:-4px;left:0;width:0;height:2px;background:var(--primary);transition:var(--transition)}
.service-card:hover .service-content h3:after{width:60px}
.service-duration{color:var(--gray);font-size:0.95rem;margin-bottom:16px;display:flex;gap:8px;align-items:center}
.service-duration i{color:var(--primary)}
.service-content p{color:var(--gray);margin-bottom:16px;flex-grow:1;line-height:1.7}
.service-price{color:var(--primary);font-weight:700;text-align:center;margin-top:auto;padding-top:20px;border-top:1px solid rgba(0,0,0,0.06);font-size:1.2rem;position:relative}
.price-range{display:block;color:var(--gray);font-size:0.9rem;margin-top:8px;font-weight:400}

/* ---------------- PORTFOLIO ---------------- */
.portfolio-scroll{display:flex;gap:24px;overflow-x:auto;padding:20px 0;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;cursor:grab}
.portfolio-scroll:active{cursor:grabbing}
.portfolio-scroll::-webkit-scrollbar{height:8px}
.portfolio-scroll::-webkit-scrollbar-thumb{background:linear-gradient(90deg,var(--primary),var(--primary-dark));border-radius:6px}
.portfolio-item{min-width:320px;height:520px;border-radius:16px;overflow:hidden;flex-shrink:0;position:relative;box-shadow:var(--shadow-md);transition:var(--transition);background:var(--light-dark)}
.portfolio-item:hover{transform:scale(1.02);box-shadow:var(--shadow-lg)}
.portfolio-item video{width:100%;height:100%;object-fit:cover;display:block;transition:var(--transition)}
.portfolio-poster{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:2;transition:opacity 0.3s ease}
.portfolio-item.playing .portfolio-poster{opacity:0;pointer-events:none}
.play-button{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;background:rgba(255,255,255,0.9);border-radius:50%;display:flex;align-items:center;justify-content:center;z-index:3;cursor:pointer;transition:var(--transition);border:none;font-size:24px;color:var(--dark)}
.play-button:hover{background:var(--primary);transform:translate(-50%,-50%) scale(1.1)}
.portfolio-item.playing .play-button{opacity:0;pointer-events:none}

/* ---------------- HOME CARE ---------------- */
.home-care-scroll{display:flex;gap:28px;overflow-x:auto;padding:24px 0;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;cursor:grab}
.home-care-scroll:active{cursor:grabbing}
.home-care-scroll::-webkit-scrollbar{height:8px}
.home-care-scroll::-webkit-scrollbar-thumb{background:linear-gradient(90deg,var(--primary),var(--primary-dark));border-radius:6px}
.product-card{width:380px;flex:0 0 auto;background:#fff;border-radius:20px;overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow-md);transition:var(--transition);border:1px solid rgba(0,0,0,0.04)}
.product-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:var(--shadow-lg);border-color:rgba(0,0,0,0.08)}
.product-image{flex:0 0 280px;height:280px;background:var(--light-dark);overflow:hidden;position:relative}
.product-image:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,transparent,rgba(0,0,0,0.04),transparent);z-index:1;transition:var(--transition);opacity:0}
.product-card:hover .product-image:before{opacity:1}
.product-image img{width:100%;height:100%;object-fit:cover;display:block;transition:var(--transition)}
.product-card:hover .product-image img{transform:scale(1.05)}
.product-content{padding:24px;display:flex;flex-direction:column;flex:1 1 auto;min-height:0;position:relative}
.product-description{color:var(--gray);font-size:1rem;flex:1;margin-bottom:16px;line-height:1.6}
.product-price{color:var(--primary);font-weight:700;font-size:1.4rem;text-align:center;margin-top:auto;padding-top:20px;border-top:1px solid rgba(0,0,0,0.06);background:#fff;position:relative}

/* ---------------- TEAM ---------------- */
.team-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:32px;align-items:start;justify-items:center}
.team-card{background:#fff;border-radius:20px;overflow:hidden;box-shadow:var(--shadow-md);display:flex;flex-direction:column;width:100%;max-width:440px;align-self:start;transition:var(--transition);border:1px solid rgba(0,0,0,0.04)}
.team-card:hover{transform:translateY(-8px);box-shadow:var(--shadow-lg);border-color:rgba(0,0,0,0.08)}
.team-image{height:340px;background:var(--light-dark);overflow:hidden;position:relative}
.team-image:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,transparent,rgba(0,0,0,0.04),transparent);z-index:1;transition:var(--transition);opacity:0}
.team-card:hover .team-image:before{opacity:1}
.team-info{padding:28px;text-align:center}
.team-info h3{font-size:1.4rem;margin-bottom:8px}
.team-info .specialty{color:var(--primary);display:block;margin-bottom:16px;font-weight:600;font-size:1rem}
.team-info p{line-height:1.7;margin-bottom:20px}
.social-links{display:flex;justify-content:center;gap:16px}
.social-links a{color:var(--dark);font-size:1.3rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:rgba(0,0,0,0.03);transition:var(--transition);border:1px solid transparent}
.social-links a:hover{background:var(--primary);color:var(--dark);transform:translateY(-3px);border-color:var(--primary)}

/* ---------------- MAP ---------------- */
.map-section{padding:80px 0;background:var(--light);position:relative}
.map-section:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,var(--primary-light) 0%, transparent 50%);opacity:0.06;pointer-events:none}
.map-container{width:100%;height:500px;border-radius:20px;overflow:hidden;box-shadow:var(--shadow-lg);position:relative;border:1px solid rgba(0,0,0,0.06)}
.map-container iframe{width:100%;height:100%;border:none;display:block}

/* ---------------- FOOTER ---------------- */
footer{background:linear-gradient(135deg,var(--dark),var(--dark-light));color:#fff;padding:80px 0 32px;position:relative;overflow:hidden}
footer:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(0,0,0,0.02)" points="0,1000 1000,0 1000,1000"/></svg>');pointer-events:none}
.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:40px;margin-bottom:40px;position:relative;z-index:1}
.footer-column h3{color:var(--primary);margin-bottom:20px;font-size:1.3rem;position:relative;display:inline-block}
.footer-column h3:after{content:'';position:absolute;bottom:-6px;left:0;width:40px;height:2px;background:var(--primary)}
.footer-links{list-style:none;padding:0}
.footer-links li{margin-bottom:12px}
.footer-links a{color:#ccc;text-decoration:none;transition:var(--transition);display:inline-block;position:relative}
.footer-links a:after{content:'';position:absolute;bottom:-2px;left:0;width:0;height:1px;background:var(--primary);transition:var(--transition)}
.footer-links a:hover{color:#fff;transform:translateX(8px)}
.footer-links a:hover:after{width:100%}
.contact-info{list-style:none;padding:0}
.contact-info li{margin-bottom:16px;display:flex;align-items:flex-start;gap:12px;transition:var(--transition)}
.contact-info li:hover{transform:translateX(8px)}
.contact-info i{color:var(--primary);margin-top:4px;flex-shrink:0;width:16px}
.copyright{text-align:center;color:#bfbfbf;font-size:0.9rem;padding-top:32px;border-top:1px solid rgba(255,255,255,0.03);position:relative;z-index:1}

/* ---------------- RESPONSIVE ---------------- */
@media (max-width:1200px){.product-card{width:340px}.product-image{height:250px}}
@media (max-width:992px){.product-card{width:400px}.product-image{height:250px}.map-container{height:450px}.nav-links{gap:24px}.section-divider{height:80px}}
@media (max-width:768px){.mobile-menu{display:block}.nav-links{display:none;position:absolute;top:100%;left:0;width:100%;background:rgba(255,255,255,0.98);backdrop-filter:blur(20px);flex-direction:column;padding:32px;box-shadow:var(--shadow-lg);text-align:center;gap:20px;border-top:1px solid rgba(0,0,0,0.04)}.nav-links.active{display:flex;animation:fadeInUp 0.5s ease-out}.nav-links li{width:100%}.nav-links a{display:block;padding:16px 0;font-size:17px;border-bottom:1px solid rgba(0,0,0,0.04)}.nav-links a:last-child{border-bottom:none}.ms_booking{width:100%;text-align:center;margin-top:16px;padding:16px 32px}.map-container{height:400px}.section{padding:clamp(48px,6vw,80px) 0}.section-divider{height:60px}.play-button{width:50px;height:50px;font-size:20px}}
@media (max-width:480px){.map-container{height:350px}.product-card{width:280px}.product-image{height:220px}.portfolio-item{min-width:280px;height:450px}.service-card{padding:24px}.hero h1{font-size:2.2rem}.section-divider{height:50px}.play-button{width:45px;height:45px;font-size:18px}}

/* FIX: pin service prices to bottom */
.service-card{display:flex;flex-direction:column}
.service-content{display:flex;flex-direction:column;flex:1}
.service-price{margin-top:auto}
.home-care-scroll,.portfolio-scroll{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}
.portfolio-item{position:relative;overflow:hidden}
.portfolio-item video{width:100%;height:100%;object-fit:cover;display:block}
.loading-shimmer{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:1000px 100%;animation:shimmer 2s infinite linear}
.back-to-top{position:fixed;bottom:30px;right:30px;background:var(--primary);color:var(--dark);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none;opacity:0;transform:translateY(20px);transition:var(--transition);z-index:999;box-shadow:var(--shadow-md)}
.back-to-top.visible{opacity:1;transform:translateY(0)}
.back-to-top:hover{background:var(--primary-dark)}
</style>
</head>
<body>
<!-- Back to top button -->
<a href="#" class="back-to-top">
  <i class="fas fa-chevron-up"></i>
</a>

<header id="header">
<div class="container">
<nav class="navbar">
<a class="logo" href="#" id="siteLogo"></a>
<ul class="nav-links" id="navLinks">
<!-- Navigation will be populated by JavaScript -->
</ul>
<button class="mobile-menu" id="mobileMenu"><i class="fas fa-bars"></i></button>
</nav>
</div>
</header>

<section class="hero" id="home">
<div class="container">
<div class="hero-content">
<h1 data-animate id="heroTitle"></h1>
<p data-animate id="heroDescription"></p>
<a class="ms_booking" data-yclients-widget="" href="#" style="display:inline-block !important; visibility:visible !important;" data-animate id="heroButton"></a>
</div>
</div>
</section>

<!-- Divider 1 -->
<div class="section-divider">
  <div class="divider-wave"></div>
  <div class="divider-dots">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<section class="section section-light" id="services">
<div class="container">
<div class="section-title" data-animate>
<h2 id="servicesTitle"></h2>
<p id="servicesDescription"></p>
</div>
<div class="services-grid" id="servicesGrid">
<!-- Services will be populated by JavaScript -->
</div>
</div>
</section>

<!-- Divider 2 -->
<div class="section-divider">
  <div class="divider-wave"></div>
  <div class="divider-ornament">
    <i class="fas fa-star"></i>
  </div>
</div>

<section class="section section-alt" id="portfolio">
<div class="container">
<div class="section-title" data-animate>
<h2 id="portfolioTitle"></h2>
<p id="portfolioDescription"></p>
</div>
<div class="portfolio-scroll" id="portfolioScroll">
<!-- Portfolio items will be populated by JavaScript -->
</div>
</div>
</section>

<!-- Divider 3 -->
<div class="section-divider">
  <div class="divider-wave"></div>
  <div class="divider-dots">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<section class="section section-light" id="home-care">
<div class="container">
<div class="section-title" data-animate>
<h2 id="homeCareTitle"></h2>
<p id="homeCareDescription"></p>
</div>
<div class="home-care-scroll" id="homeCareScroll">
<!-- Products will be populated by JavaScript -->
</div>
</div>
</section>

<!-- Divider 4 -->
<div class="section-divider">
  <div class="divider-wave"></div>
  <div class="divider-ornament">
    <i class="fas fa-heart"></i>
  </div>
</div>

<section class="section section-alt" id="team">
<div class="container">
<div class="section-title" data-animate>
<h2 id="teamTitle"></h2>
<p id="teamDescription"></p>
</div>
<div class="team-grid" id="teamGrid">
<!-- Team members will be populated by JavaScript -->
</div>
</div>
</section>

<!-- Divider 5 -->
<div class="section-divider">
  <div class="divider-wave"></div>
  <div class="divider-dots">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<!-- Map Section -->
<section class="map-section" id="map">
  <div class="container">
    <div class="section-title" data-animate>
      <h2 id="mapTitle"></h2>
      <p id="mapDescription"></p>
    </div>
    <div class="map-container" data-animate id="mapContainer">
      <!-- Map iframe will be populated by JavaScript -->
    </div>
  </div>
</section>

<!-- Footer -->
<footer id="contact">
    <div class="container">
        <div class="footer-content" id="footerContent">
            <!-- Footer content will be populated by JavaScript -->
        </div>
        <div class="copyright">
            <p id="copyrightText"></p>
        </div>
    </div>
</footer>

<script charset="UTF-8" src="https://w948450.yclients.com/widgetJS"></script>
<script>
// Load data from JSON and populate the website
async function loadWebsiteData() {
  try {
    const response = await fetch('data.json');
    const data = await response.json();
    
    // Set site title and favicon
    document.title = data.site.title;
    document.querySelector('link[rel="icon"]').href = data.site.favicon;
    
    // Populate header
    document.getElementById('siteLogo').innerHTML = `${data.site.logo}<span>.</span>`;
    populateNavigation(data.header);
    
    // Populate hero section
    document.getElementById('heroTitle').textContent = data.hero.title;
    document.getElementById('heroDescription').textContent = data.hero.description;
    document.getElementById('heroButton').textContent = data.hero.button;
    
    // Set hero background from data.json
    if (data.hero.background) {
      const heroSection = document.querySelector('.hero');
      heroSection.style.background = `linear-gradient(135deg, rgba(11,11,11,0.65), rgba(11,11,11,0.45)), url('${data.hero.background}') center/cover no-repeat`;
    }
    
    // Populate services
    document.getElementById('servicesTitle').textContent = data.services.title;
    document.getElementById('servicesDescription').textContent = data.services.description;
    populateServices(data.services.items);
    
    // Populate portfolio
    document.getElementById('portfolioTitle').textContent = data.portfolio.title;
    document.getElementById('portfolioDescription').textContent = data.portfolio.description;
    populatePortfolio(data.portfolio.videos);
    
    // Populate home care
    document.getElementById('homeCareTitle').textContent = data.homeCare.title;
    document.getElementById('homeCareDescription').textContent = data.homeCare.description;
    populateHomeCare(data.homeCare.products);
    
    // Populate team
    document.getElementById('teamTitle').textContent = data.team.title;
    document.getElementById('teamDescription').textContent = data.team.description;
    populateTeam(data.team.members);
    
    // Populate map
    document.getElementById('mapTitle').textContent = data.map.title;
    document.getElementById('mapDescription').textContent = data.map.description;
    document.getElementById('mapContainer').innerHTML = `<iframe src="${data.map.iframe}" width="100%" height="100%" frameborder="0" allowfullscreen="true"></iframe>`;
    
    // Populate footer
    populateFooter(data.footer);
    
    // Initialize animations after content is loaded
    initializeAnimations();
    
  } catch (error) {
    console.error('Error loading website data:', error);
  }
}

function populateNavigation(headerData) {
  const navLinks = document.getElementById('navLinks');
  
  // Add regular navigation links
  headerData.navLinks.forEach(link => {
    const li = document.createElement('li');
    li.innerHTML = `<a href="${link.href}">${link.name}</a>`;
    navLinks.appendChild(li);
  });
  
  // // Add booking button as last item - ОБНОВЛЕНО: добавлен правильный атрибут data-yclients-widget
  // const bookingLi = document.createElement('li');
  // bookingLi.innerHTML = `<a class="ms_booking" data-yclients-widget="" href="#" style="display:inline-block !important; visibility:visible !important;">${headerData.bookingButton}</a>`;
  // navLinks.appendChild(bookingLi);
}

function populateServices(services) {
  const servicesGrid = document.getElementById('servicesGrid');
  
  services.forEach(service => {
    const serviceCard = document.createElement('div');
    serviceCard.className = 'service-card';
    serviceCard.setAttribute('data-animate', '');
    
    serviceCard.innerHTML = `
      <div class="service-content">
        <h3>${service.title}</h3>
        <div class="service-duration"><i class="fas fa-clock"></i> ${service.duration}</div>
        <p>${service.description}</p>
        <div class="service-price">${service.price}${service.priceRange ? `<span class="price-range">${service.priceRange}</span>` : ''}</div>
      </div>
    `;
    
    servicesGrid.appendChild(serviceCard);
  });
}

function populatePortfolio(videos) {
  const portfolioScroll = document.getElementById('portfolioScroll');
  
  videos.forEach(video => {
    const portfolioItem = document.createElement('div');
    portfolioItem.className = 'portfolio-item';
    portfolioItem.setAttribute('data-animate', '');
    
    // Создаем постер из первого кадра видео или используем готовый постер
    const posterSrc = video.poster || video.src.replace('.mp4', '.jpg') || '';
    
    portfolioItem.innerHTML = `
      <video muted playsinline preload="metadata" poster="${posterSrc}">
        <source src="${video.src}" type="${video.type}"/>
      </video>
      ${posterSrc ? `<img src="${posterSrc}" class="portfolio-poster" alt="Постер видео">` : ''}
      <button class="play-button">
        <i class="fas fa-play"></i>
      </button>
    `;
    
    portfolioScroll.appendChild(portfolioItem);
  });
}

function populateHomeCare(products) {
  const homeCareScroll = document.getElementById('homeCareScroll');
  
  products.forEach(product => {
    const productCard = document.createElement('div');
    productCard.className = 'product-card';
    productCard.setAttribute('data-animate', '');
    
    productCard.innerHTML = `
      <div class="product-image"><img alt="${product.alt}" src="${product.image}"/></div>
      <div class="product-content">
        <h3>${product.title}</h3>
        <div class="product-description"><p>${product.description}</p></div>
        <div class="product-price">${product.price}</div>
      </div>
    `;
    
    homeCareScroll.appendChild(productCard);
  });
}

function populateTeam(members) {
  const teamGrid = document.getElementById('teamGrid');
  
  members.forEach(member => {
    const teamCard = document.createElement('div');
    teamCard.className = 'team-card';
    teamCard.setAttribute('data-animate', '');
    
    // Используем безопасный доступ к свойствам
    const socialLinks = member.socialLinks || [];
    const image = member.image || 'fa729392-cd15-468b-8839-547d0e1f800b.jpg';
    
    teamCard.innerHTML = `
      <div class="team-image" style="background: url('${image}') center/cover no-repeat;"></div>
      <div class="team-info">
        <h3>${member.name}</h3>
        <span class="specialty">${member.specialty}</span>
        <p>${member.description}</p>
        <div class="social-links">
          ${socialLinks.map(social => 
            `<a href="${social.href || '#'}"><i class="${social.icon || 'fab fa-instagram'}"></i></a>`
          ).join('')}
        </div>
      </div>
    `;
    
    teamGrid.appendChild(teamCard);
  });
}

function populateFooter(footerData) {
  const footerContent = document.getElementById('footerContent');
  
  // Используем безопасный доступ к свойствам
  const company = footerData.company || {};
  const contacts = footerData.contacts || {};
  const links = footerData.links || [];
  
  footerContent.innerHTML = `
    <div class="footer-column" data-animate>
      <h3>${company.name || 'О нас'}</h3>
      <p>${company.description || ''}</p>
    </div>
    <div class="footer-column" data-animate>
      <h3>Контакты</h3>
      <ul class="contact-info">
        <li><i class="fas fa-map-marker-alt"></i> ${contacts.address || ''}</li>
        <li><i class="fas fa-phone"></i> ${contacts.phone || ''}</li>
        <li><i class="fas fa-envelope"></i> ${contacts.email || ''}</li>
        <li><i class="fas fa-clock"></i> ${contacts.hours || ''}</li>
      </ul>
    </div>
    <div class="footer-column" data-animate>
      <h3>Быстрые ссылки</h3>
      <ul class="footer-links">
        ${links.map(link => 
          `<li><a href="${link.href || '#'}">${link.name || ''}</a></li>`
        ).join('')}
      </ul>
    </div>
  `;
  
  document.getElementById('copyrightText').innerHTML = footerData.copyright || '';
}

function initializeAnimations() {
  // Mobile menu functionality
  const mobileMenu = document.getElementById('mobileMenu');
  const navLinks = document.getElementById('navLinks');
  
  mobileMenu.addEventListener('click', function() {
    navLinks.classList.toggle('active');
    const icon = mobileMenu.querySelector('i');
    if (navLinks.classList.contains('active')) {
      icon.classList.remove('fa-bars');
      icon.classList.add('fa-times');
    } else {
      icon.classList.remove('fa-times');
      icon.classList.add('fa-bars');
    }
  });
  
  // Close menu when clicking on a link
  document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
      navLinks.classList.remove('active');
      mobileMenu.querySelector('i').classList.remove('fa-times');
      mobileMenu.querySelector('i').classList.add('fa-bars');
    });
  });

  // Scroll animations
  const animateOnScroll = () => {
    const elements = document.querySelectorAll('[data-animate]');
    elements.forEach(element => {
      const elementTop = element.getBoundingClientRect().top;
      const elementVisible = 150;
      
      if (elementTop < window.innerHeight - elementVisible) {
        element.classList.add('animated');
      }
    });
  };

  // Header scroll effect
  const header = document.getElementById('header');
  const backToTop = document.querySelector('.back-to-top');
  
  const handleScroll = () => {
    // Header scroll
    if (window.scrollY > 100) {
      header.classList.add('scrolled');
    } else {
      header.classList.remove('scrolled');
    }
    
    // Back to top button
    if (window.scrollY > 500) {
      backToTop.classList.add('visible');
    } else {
      backToTop.classList.remove('visible');
    }
    
    // Animate on scroll
    animateOnScroll();
  };

  // Initial check
  animateOnScroll();
  
  // Event listeners
  window.addEventListener('scroll', handleScroll);
  window.addEventListener('load', handleScroll);

  // Back to top functionality - исправлен селектор
  backToTop.addEventListener('click', (e) => {
    e.preventDefault();
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });

  // Инициализация управления видео
  initializeVideoControls();

  // Инициализация YClients виджета для всех кнопок записи
  initializeBookingWidget();

  // Smooth scrolling for anchor links - исправлен селектор
  document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      if (targetId && targetId !== '#') {
        const target = document.querySelector(targetId);
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    });
  });
}

// Функция для инициализации YClients виджета
function initializeBookingWidget() {
  // Ждем загрузки YClients виджета
  if (typeof window.yclients !== 'undefined' && window.yclients.widget) {
    // Инициализируем виджет для всех кнопок с классом ms_booking
    document.querySelectorAll('.ms_booking').forEach(button => {
      // YClients виджет должен автоматически инициализировать кнопки с data-yclients-widget
      console.log('YClients widget initialized for button:', button);
    });
  } else {
    // Если виджет еще не загружен, ждем
    setTimeout(initializeBookingWidget, 100);
  }
}

// Функция для управления видео
function initializeVideoControls() {
  const portfolioItems = document.querySelectorAll('.portfolio-item');
  
  portfolioItems.forEach(item => {
    const video = item.querySelector('video');
    const poster = item.querySelector('.portfolio-poster');
    const playButton = item.querySelector('.play-button');
    
    if (!video) return;
    
    // Убедимся, что видео загружает метаданные для показа первого кадра
    video.addEventListener('loadeddata', function() {
      // На мобильных устройствах устанавливаем текущее время на 0 для показа первого кадра
      if (window.innerWidth <= 768) {
        video.currentTime = 0.1; // Небольшое смещение чтобы гарантировать показ кадра
      }
    });
    
    // Воспроизведение по клику на кнопку play
    playButton.addEventListener('click', function(e) {
      e.stopPropagation();
      playVideo(item, video, poster, playButton);
    });
    
    // Воспроизведение по клику на само видео (для мобильных)
    video.addEventListener('click', function(e) {
      e.stopPropagation();
      if (window.innerWidth <= 768) {
        if (video.paused) {
          playVideo(item, video, poster, playButton);
        } else {
          pauseVideo(item, video, poster, playButton);
        }
      }
    });
    
    // Для десктопа - воспроизведение при наведении
    if (window.innerWidth > 768) {
      item.addEventListener('mouseenter', function() {
        playVideo(item, video, poster, playButton);
      });
      
      item.addEventListener('mouseleave', function() {
        pauseVideo(item, video, poster, playButton);
      });
    }
    
    // При окончании видео возвращаем к началу и показываем постер
    video.addEventListener('ended', function() {
      pauseVideo(item, video, poster, playButton);
    });
  });
}

function playVideo(item, video, poster, playButton) {
  video.play().then(() => {
    item.classList.add('playing');
  }).catch(error => {
    console.log('Video play failed:', error);
    // Если воспроизведение не удалось, показываем постер
    item.classList.remove('playing');
  });
}

function pauseVideo(item, video, poster, playButton) {
  video.pause();
  video.currentTime = 0;
  item.classList.remove('playing');
}

// Initialize the website when DOM is loaded
document.addEventListener('DOMContentLoaded', loadWebsiteData);
</script>
</body>
</html>